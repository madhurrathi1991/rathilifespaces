"use strict";var re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){for(var L,t,l='\n    <div id="kenytChatBubble" class="unreadcount">\n        <div id="kenytBubbleContainer" class="kchannels-container">\n            <div class="kchannel-group">    \n            </div>\n        </div>\n\n        <div id="messageWrapperBox" class="kpopup-container chatWithUsMessageWrapper ktext-color">\n            <div class="kpopup-text chatWithUsMessage">\n             \n            </div>\n            <button id="chatNowBtn" class="kprimary-color">Chat Now</button>\n        </div>\n        <div class="kbubble-container kprimary-bg kprimary-border">\n            <div id="bubbleTail"></div>\n            <div class="img-container">\n            </div>\n        </div>\n    </div>',c='\n    <div id="kenytChatBubble" class="unreadcount">\n        <div class="kchannels-container">\n            <div class="kstrip">    \n            </div>\n            <div class="kchannel-group">    \n            </div>\n        </div>\n        <div class="kpopup-container ksecondary-bg ktext-color">\n            <div class="kpopup-text">\n            </div>\n        </div>\n        <div class="kbubble-container kprimary-bg">\n            <div class="img-container">\n            </div>\n        </div>\n    </div >',d="kprimary-bg",u="ksecondary-bg",m="ksecondary-bg-v",p="ktext-color",b="kprimary-color",h="kprimary-border",a="/api/chatwindow/getthemeconfig",g="kenytTextBubble",f="kenytWhatsappBubble",y="kenytFacebookBubble",v="kenytInstagramBubble",C="kenytPhoneBubble",x="chatbox-container",S="kenytChatWindow",n="__kenytUnreadCount",o="data-unreadcount",k=2,r=1e3*(k+4),s=1e3*(14+2*k),w=1.5,E=3,i={center:"position-center",left:"position-left",right:"position-right",bottom:"position-bottom"},A="style1",B="style2",I="kenytUnreadMessage",P="kenytCustomEventDispatch",N="kenyt_ContactFormSubmit",T="kenytUpdateAttentionMessage",e=0;e<document.scripts.length;e++)if(0<=document.scripts[e].src.indexOf("bot-loader.js")){L=document.scripts[e];break}var _,U,W,M,O,j,q="",R=0,D=null;String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e});var F={element:null,primaryColor:null,opacity:null,textColor:null,style:null,channelContainer:{element:null,group:null,channels:[],iconElements:[]},popupContainer:{element:null,container:null,config:null},bubbleContainer:{element:null,imageUrl:null},stripAnimation:null},H={};function V(e){if(document.body.appendChild(F.element),G(),F.channelContainer.iconElements&&F.channelContainer.iconElements.length&&function e(t,n){if(t&&t.length){n<0&&(n=t.length-1);var o=t[n];o.classList.add("kanimate"),window.setTimeout(function(){o.classList.remove("kanimate"),window.setTimeout(function(){e(t,n-1)},1e3*E)},1e3*w)}}(F.channelContainer.iconElements,F.channelContainer.iconElements.length-1),M&&M!==A&&setInterval(function(){G()},s),document.body.appendChild(H),e.googleAnalyticsId&&("undefined"!=typeof gtag&&gtag?ee=gtag:(document.head.appendChild(Q("https://www.googletagmanager.com/gtag/js?id="+e.googleAnalyticsId)),window.dataLayer=window.dataLayer||[],ee("js",new Date),ee("config",e.googleAnalyticsId))),e.facebookPixelId)if("undefined"!=typeof fbq&&fbq);else{n=window,o=document,n.fbq||(a=n.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},n._fbq||(n._fbq=a),(a.push=a).loaded=!0,a.version="2.0",a.queue=[],(r=o.createElement("script")).async=!0,r.src="https://connect.facebook.net/en_US/fbevents.js",(i=o.getElementsByTagName("script")[0]).parentNode.insertBefore(r,i)),fbq("init",e.facebookPixelId),fbq("track","PageView");var t=document.createElement("img");t.src="https://www.facebook.com/tr?id="+e.facebookPixelId+"&ev=PageView&noscript=1",t.height="1",t.width="1",t.style="display:none",document.body.appendChild(t)}var n,o,a,r,i}function G(){D?(J(D),D=null):J(F.popupContainer.config)}function Q(e,t,n){var o=document.createElement("script");return o.setAttribute("src",e),o.type="text/javascript",o.async=t,n&&(o.onload=function(){var e=document.getElementById(S),t=e.getAttribute("src_to_set");t&&(e.removeAttribute("src_to_set"),e.setAttribute("src",t))}),o}function K(e,t,n){var o=document.createElement("link");return o.setAttribute("href",e),o.rel="stylesheet",t&&(o.onload=function(){V(n),n.javascript.forEach(function(e){document.head.appendChild(Q(""+q+e,!1,t)),t=!1})}),o}function J(e){if(e){var t=e.markedEle;!t&&e.text&&(t="<p>"+e.text+"</p>"),t&&(!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(F.popupContainer.container),F.popupContainer.element.classList.remove("k-hide"),F.popupContainer.element.classList.add("kpopup-holdanimation"),F.popupContainer.container.style.minWidth="75px",F.popupContainer.container.innerHTML=t,F.popupContainer.container.style.minWidth=F.popupContainer.container.clientWidth-90+"px",F.popupContainer.element.classList.remove("kpopup-holdanimation"),window.setTimeout(function(){F.popupContainer.element.classList.add("k-hide")},r))}}!function(){if(q=function(){var e=z("src"),t="";if(e){(e.startsWith(".")||e.startsWith("/"))&&(e=window.location.protocol+"//"+window.location.hostname,window.location.port&&(e+=":"+window.location.port));var n=new URL(e);t=n.protocol+"//"+n.hostname,n.port&&(t+=":"+n.port)}return console.debug("Root URL: "+t),t}(),_=z("data-bot"),U=z("data-position"),M=z("data-bubblestyle"),O="true"===(z("data-istest")||"").toLowerCase(),j=window.location.href,t=function(){var e=window.location.href;{if(0<=e.indexOf("localhost")){var t=""+q+a;return console.debug("Endpoint set to "+t),t}if(0<e.indexOf("ngrok.io")){var n="https://"+window.location.hostname+a;return console.debug("Endpoint set to ngrok url "+n),n}var o=q+"/botapp"+a;return console.debug("Endpoint set to "+o),o}}(),!_&&0<j.indexOf("myshopify.com")&&(_=j),_){"Bren_Startlight"==_?_="Bren_Starlight":"Vascon_Winderemere"==_&&(_="Vascon_Windermere");var e=new XMLHttpRequest;e.addEventListener("load",function(){!function(r){if(!U&&r.botPosition&&"string"==typeof r.botPosition){var e=r.botPosition.trim().toLowerCase();e&&(U=e)}!M&&r.bubbleStyle&&"string"==typeof r.bubbleStyle&&(M=r.bubbleStyle);W=function(e){if(e&&"string"==typeof e&&(e=e.trim().toLowerCase()))for(var t=Object.keys(i),n=0;n<t.length;n++)if(t[n]===e)return i[t[n]];return i.right}(U);var n=r.hideChatbot&&window.location.host.indexOf("kenyt.ai")<0;function o(){if((H=function(e,t,n,o,a){var r=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],i=document.createElement("div"),s=document.createElement("iframe"),l=document.createElement("div"),c=document.createElement("span");i.setAttribute("id",x),i.classList.add("k-hide");var d=function(e){var t,n,o=0;for(t=0;t<e.length;t++)n=e.charCodeAt(t),o=(o<<5)-o+n,o|=0;return o}(L.outerHTML),u=j;if(X){var m=window.localStorage.getItem("__kenytsession__");if(m&&(m=JSON.parse(m)),m&&m.FirstPageQueryPrm){var p=u.indexOf("?");if(0<p){var b=new URLSearchParams(m.FirstPageQueryPrm),h=Object.fromEntries(b.entries()),g=new URLSearchParams(u.substring(p)),f=Object.fromEntries(g.entries());for(var y in f)h[y]=f[y];var v=Object.keys(h).map(function(e){return e+"="+h[e]}).join("&");u=u.substring(0,p)+"?"+v}else u+="?"+m.FirstPageQueryPrm}}u=encodeURIComponent(u);for(var C=""+q+e+"&botid="+_+"&origin="+u+"&test="+(r?1:0)+"&hash="+d,k=0,w=L.attributes,E=w.length;k<E;k++){var A=w[k].nodeName;A.startsWith("context-")&&(C+="&"+A+"="+w[k].nodeValue)}s.setAttribute("src_to_set",C),s.setAttribute("id",S),s.setAttribute("allow","geolocation; microphone; camera"),s.allowFullscreen="allowFullscreen",t&&i.classList.add(t);if(n){var B=Y()?"mobile":"desktop";n[B]&&(n[B]["open Height"]&&(i.style.height=n[B]["open Height"]),n[B]["open Width"]&&(i.style.width=n[B]["open Width"]))}c.innerHTML='Powered By <a href="https://www.kenyt.ai" tabindex="-1">Kenyt.AI</a>',l.appendChild(c),l.id="kenytPoweredBy",o||i.appendChild(s);return i.classList.add(a),i.appendChild(l),i}(r.iframeSource,r.botType,r.deviceSettings,n,W,O)).classList.add(M),document.body)if(document.kenytBotLoaded&&document.kenytBotLoaded===_)console.warn("[Kenyt.AI] Loader script imported more than once, ignoring duplicate loads");else{if(document.kenytBotLoaded&&document.kenytBotLoaded!==_){var e=document.getElementById("kenytChatBubble");e&&e.remove();var t=document.getElementById(S);t&&t.remove()}document.kenytBotLoaded=_,n?(F.element.style.display="none",H.style.display="none"):function(t){if(t){var n=!0;if(t.stylesheet.forEach(function(e){document.head.appendChild(K(""+q+e,n,t)),n=!1}),t.resources.forEach(function(e){e.resourceType=e.resourceType||"";var t=document.head.getElementsByTagName("link");if(t=t&&0<t.length?t[0]:null,e.resourceUrl)switch(e.resourceType){case"script":document.head.appendChild(Q(e.resourceUrl));break;case"stylesheet":var n=K(e.resourceUrl);t?document.head.insertBefore(n,t):document.head.appendChild(n);break;default:console.warn("Unknown external resource type ignored",e.resourceType)}else console.warn("External resource url cannot be empty")}),t.customCss){var e=document.createElement("style");e.innerText=t.customCss,document.head.appendChild(e)}}}(r)}else console.error("[Kenyt.AI] Cannot inject chatbot - Document load complete, but missing body"),console.error(document),setTimeout(o,2e3);window.addEventListener("message",function(e){if("object"===re(e.data)&&e.data.type){var t=e.data;if(t.type===P){var n=t.value;if(n&&n.EventName&&n.EventName===N){if(ee&&r.googleAnalyticsEvents&&r.googleAnalyticsEvents[N]){var o=r.googleAnalyticsEvents[N];for(var a in o)ee("event",a,o[a])}"undefined"!=typeof fbq&&fbq&&r.facebookPixelId&&fbq("track","Lead"),r.googleTagManagerId&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({"gtm.start":(new Date).getTime(),event:"gtm.js"}),document.head.appendChild(Q("https://www.googletagmanager.com/gtm.js?id="+r.googleTagManagerId,!0)))}}else t.type===I?(R=ne(),0<(R+=1)&&oe(R),r.toggleAttentionMessage&&t.value&&!D&&((D={}).markedEle=t.value)):t.type===T&&J(t.value)}},!1)}!function(t,e,n){F={},F.element=e&&e!==A?(e=B,te(c)):(e=A,te(l));F.element.classList.add(e),F.element.classList.add(n),F.popupContainer={},F.popupContainer.element=F.element.getElementsByClassName("kpopup-container")[0],F.popupContainer.container=F.popupContainer.element.getElementsByClassName("kpopup-text")[0],F.channelContainer={},F.channelContainer.element=F.element.getElementsByClassName("kchannels-container")[0],F.channelContainer.container=F.element.getElementsByClassName("kchannel-group")[0],F.channelContainer.strip=F.element.getElementsByClassName("kstrip")[0],F.channelContainer.iconElements=[],F.bubbleContainer={},F.bubbleContainer.element=F.element.getElementsByClassName("kbubble-container")[0],F.bubbleContainer.container=F.element.getElementsByClassName("img-container")[0],F.bubbleContainer.container&&t.bubbleBackgroundColor&&(F.bubbleContainer.container.style.backgroundColor=t.bubbleBackgroundColor);e&&e!==A?F.popupContainer.element.style.animationDuration=k+"s":t.popupConfig.text||(F.popupContainer.element.style.display="none");F.popupContainer.element.style.color=t.textColor,F.popupContainer.config=t.popupConfig,t.channelConfig&&t.channelConfig.channels&&t.channelConfig.channels.length?t.channelConfig.channels.forEach(function(e){var t=function(e){var t={render:!0};if(e.body=e.body||"hi",e&&e.type&&e.number)switch(e.type){case"sms":if(Y()){var n=Z(),o="?";"iOS"===n&&(o="&"),t.link="sms:"+encodeURIComponent(e.number)+o+"body="+encodeURIComponent(e.body)}t.id=g;break;case"whatsapp":var a=Z();"iOS"===a&&e.number&&e.number.startsWith("+")&&(e.number=e.number.substr(1)),t.link="https://api.whatsapp.com/send?phone="+e.number+"&text="+e.body,t.id=f;break;case"facebook":t.link="https://www.messenger.com/t/"+e.number+"/",t.id=y;break;case"instagram":t.link="https://www.instagram.com/"+e.number+"/",t.id=v;break;case"phone":t.link="tel:"+encodeURIComponent(e.number),t.id=C;break;default:t.render=!1}return t}(e);if(t&&e.imageUrl){var n=document.createElement("a");t.link&&(n.target="_blank",n.href=t.link),n.id=t.id,n.classList.add("kchannel-icon");var o=document.createElement("span");o.classList.add("khighlight-background"),e.color&&(o.style.backgroundColor=e.color),n.appendChild(o);var a=document.createElement("img");a.src=""+q+e.imageUrl,n.appendChild(a),F.channelContainer.iconElements.push(n),F.channelContainer.container.appendChild(n)}}):F.channelContainer.container.classList.add("k-hide");if(oe(R=ne()),t.primaryColor){var o=F.element.getElementsByClassName(d);Array.from(o).forEach(function(e){e.style.backgroundColor=t.primaryColor}),o=F.element.getElementsByClassName(b),Array.from(o).forEach(function(e){e.style.color=t.primaryColor}),o=F.element.getElementsByClassName(h),Array.from(o).forEach(function(e){e.style.borderColor=t.primaryColor})}if(t.secondaryColorGradient){var a=F.element.getElementsByClassName(u);Array.from(a).forEach(function(e){e.style.backgroundImage=t.secondaryColorGradient}),t.secondaryColorVGradient&&(a=F.element.getElementsByClassName(m),Array.from(a).forEach(function(e){e.style.backgroundImage=t.secondaryColorVGradient}))}else if(t.secondaryColor){var r=F.element.getElementsByClassName(u);Array.from(r).forEach(function(e){e.style.backgroundColor=t.secondaryColor})}if(t.imageUrl){var i=document.createElement("img");i.src=""+q+t.imageUrl,F.bubbleContainer.container.appendChild(i)}if(t.textColor){var s=F.element.getElementsByClassName(p);Array.from(s).forEach(function(e){e.style.color=t.textColor})}}(r.bubble,M,W);var t=r.loadMode||"Normal";if("complete"===document.readyState||"interactive"===document.readyState)switch(t){case"Delayed":window.setTimeout(function(){o()},5e3);break;case"Quick":default:o()}else switch(t){case"Quick":o();break;case"Delayed":window.setTimeout(function(){o()},5e3);break;default:window.addEventListener("DOMContentLoaded",function(){o()})}}(JSON.parse(e.response))}),e.open("GET",t+"?botid="+_,!0),e.send()}else console.error("[Kenyt.AI] Invalid botname parameter")}();var X=function(){var e="__feature_test";try{return window.sessionStorage.setItem(e,e),window.sessionStorage.removeItem(e),!0}catch(e){return!1}}();function z(e){var t="";if(L){var n=""+e;L.hasAttribute(n)&&(t=L.getAttribute(n))}return t}function Y(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)}function Z(){var e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?"Windows Phone":/android/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":"unknown"}function ee(){dataLayer.push(arguments)}function te(e){e=e.trim();var t=document.createElement("template");return t.innerHTML=e,t.content.firstChild}function ne(){var e=F.element.getAttribute(o);return e&&(e=parseInt(e)),e||(e=0),e}function oe(e){0===e?function(){R=0,F.element.hasAttribute(o)&&F.element.removeAttribute(o);ae(n,""+R)}():(F.element.setAttribute(o,e),ae(n,""+e))}function ae(e,t){X&&window.sessionStorage.setItem(e,t)}}();